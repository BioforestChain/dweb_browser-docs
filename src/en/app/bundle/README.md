---
title: DwebBrowser bundle
category:
  - Service 
tag:
  - Service 
---

plaoc Frontend and Backend Packaging Tool.

## Installation

- First, you need to install the plaoc command-line tool.

```bash
npm install -g @plaoc/cli
```

## Developing an App

This requires the use of developer tools, which also serve as a preview mode for the app. (dist is the directory where our compiled source code is located)

### Specifying the compiled directory

```bash
plaoc serve ./dist
```

The output will be as follows:

```bash
metadata:       http://127.0.0.1:8096/metadata.json
metadata:       http://172.30.93.43:8096/metadata.json
```

After generating the `metadata.json`, we can use the developer tools for debugging/development. [Developer Tools](../developer-tool/README.md).

::: warning
You need to run the plaoc command within the folder that contains `manifest.json`. If you are not in the `manifest.json` folder, you can use `--dir` to specify the directory.
For example:
```bash
deno serve --dir ./demo ./demo/dist
```
:::

### Dynamic Compilation Mode

> It is recommended to use this method for dynamic compilation, which allows the developer tools to update along with the code changes.

You can also specify a compiled URL, such as the one generated by Vite:

```bash
npx vite --host
```

The output will be as follows:

```bash
  VITE v4.3.9  ready in 76 ms
  ➜  Local:   http://localhost:5173/
  ➜  Network: http://172.30.90.207:5173/
```

Now, you can directly execute the following command for development preview:

```bash
plaoc serve  http://172.30.90.207:5173/
```

The output will be as follows:

```bash
metadata:       http://127.0.0.1:8096/metadata.json
metadata:       http://172.30.93.43:8096/metadata.json
```

#### Options

- `--dir`: Specify the development directory, i.e., the root directory where you create `manifest.json`.
- `--port`: Specify the server port to start.
- `--mode`: The processing mode of the service. Possible values are `www`, `live`, `prod`.
  - `--mode www`: Start the folder as a read-only file in `usr/www`.
  - `--mode live`: Use a dynamic server to serve the local folder, with `index.html` in `usr/www` for redirection.
  - `--mode prod`: Directly start the packaged files as a service.

#### Example

```bash
plaoc serve  ./plaoc/demo/dist --dir ./plaoc/demo --mode www 
```

## Bundling/Publishing an App

### Packaging an App

After completing the development process, you can bundle the source code of the app.

```bash
plaoc bundle ./dist
```

It will create the following directory structure and output a compressed file `.zip` and a `metadata.json`. For more details, please refer to the documentation below.

- bundle
  - appId.version.zip
  - metadata.json

#### Options

- `--out`: Specify the name of the output directory after bundling. The default is `bundle`.
- `--version`: Specify the version of the app, which overrides the configuration in `manifest.json`.
- `--id`: Specify the ID of the app, which overrides the configuration in `manifest.json`.
- `--dir`: Specify the development directory, i.e., the root directory where you create `manifest.json`.

#### Example

```bash
plaoc bundle  ./dist --dir ./ --version 0.0.2
```

### Publishing an App

Each app needs to be published under its own domain. The domain is bound to the appId provided in `manifest.json`. Suppose my appId is:

- game.dweb.browser.org.dweb

I would simply place the two files from the previous bundle into the root directory of `dweb.browser.org`, and the deployment is complete.

When users want to download the app, they only need to access `https://dweb.browser.org/metadata.json` using any method.

- Provide a QR code for the JSON address, allowing users to scan and download.
- On the official website, use `XMLHttpRequest` to request this JSON, and users can click to download.